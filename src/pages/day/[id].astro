---
import Layout from '../../layouts/Layout.astro';
import { stories } from '../../data/stories';
import GuessInput from '../../components/GuessInput';

export function getStaticPaths() {
  return Array.from({ length: 30 }, (_, i) => ({ params: { id: (i + 1).toString() } }));
}

const { id } = Astro.params;
const story = stories[id] || { text: "The ink is still wet on this page.", hint: "" };
---

<Layout title={`Day ${id}`}>
  <main>
    <div class="stagger-1" style="display: flex; justify-content: space-between; align-items: baseline; border-bottom: 1px solid rgba(0,0,0,0.05); padding-bottom: 24px; margin-bottom: 40px;">
        <span style="font-family: var(--font-body); text-transform: uppercase; letter-spacing: 0.15em; font-size: 0.85rem; color: var(--accent);">
            Day {id}
        </span>
        <a href="/days" style="font-size: 1.5rem; opacity: 0.4; line-height: 0.5;">Ã—</a>
    </div>
    
    <article class="stagger-2" set:html={story.text} style="
        font-family: var(--font-heading);
        font-size: 1.35rem;
        line-height: 1.8;
        color: var(--text-main);
        white-space: pre-line; 
        margin-bottom: 64px;
    " />

    <div class="stagger-3">
        <GuessInput client:load dayId={id} hint={story.hint} />
    </div>
  </main>
</Layout>